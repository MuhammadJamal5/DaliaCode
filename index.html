<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Will you be my Valentine? ðŸ’•</title>

  <!-- Confetti library -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@400;600;800&display=swap"
    rel="stylesheet">

  <style>
    :root {
      --bg1: #1a0a12;
      --bg2: #2d1a24;
      --card: rgba(0, 0, 0, 0.2);
      --card-border: rgba(255, 255, 255, 0.1);
      --yes: linear-gradient(135deg, #ff3b7a, #ff6b9d, #ff3b7a);
      --yesHover: linear-gradient(135deg, #ff1f68, #ff4d85, #ff1f68);
      --text: #fff;
      --text-secondary: rgba(255, 255, 255, 0.85);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100svh;
      display: grid;
      place-items: center;
      font-family: 'Poppins', system-ui, sans-serif;
      overflow-x: hidden;
      overflow-y: auto;
      padding: 16px;
      padding-bottom: 40px;
      position: relative;
    }

    /* Background image */
    .bg-image {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -2;
      filter: brightness(0.9);
    }

    /* Dark overlay */
    .bg-overlay {
      position: fixed;
      inset: 0;
      background: linear-gradient(135deg, rgba(255, 61, 122, 0.05) 0%, rgba(0, 0, 0, 0.35) 100%);
      z-index: -1;
    }

    /* Floating hearts background animation */
    .hearts-bg {
      position: fixed;
      inset: 0;
      overflow: hidden;
      pointer-events: none;
      z-index: 0;
    }

    .floating-heart {
      position: absolute;
      font-size: 24px;
      opacity: 0.6;
      animation: floatUp 8s infinite ease-in-out;
    }

    @keyframes floatUp {

      0%,
      100% {
        transform: translateY(100vh) rotate(0deg) scale(0.5);
        opacity: 0;
      }

      10% {
        opacity: 0.6;
      }

      90% {
        opacity: 0.6;
      }

      100% {
        transform: translateY(-100vh) rotate(360deg) scale(1);
        opacity: 0;
      }
    }

    /* FULL-SCREEN CONFETTI CANVAS */
    #confettiCanvas {
      position: fixed;
      inset: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 9999;
    }

    .card {
      width: min(720px, 92vw);
      padding: 36px 28px;
      background: var(--card);
      backdrop-filter: blur(8px) saturate(1.2);
      border-radius: 32px;
      text-align: center;
      box-shadow:
        0 25px 80px rgba(0, 0, 0, .5),
        0 0 0 1px var(--card-border),
        inset 0 1px 0 rgba(255, 255, 255, 0.15);
      animation: cardFloat 4s ease-in-out infinite;
      position: relative;
      z-index: 10;
    }

    @keyframes cardFloat {

      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-8px);
      }
    }

    /* Animated heart art */
    .art-container {
      position: relative;
      width: min(280px, 80vw);
      margin: 0 auto 20px;
    }

    .art {
      width: 100%;
      display: block;
      filter: drop-shadow(0 15px 30px rgba(255, 61, 122, .4));
      animation: heartbeat 1.2s ease-in-out infinite;
    }

    @keyframes heartbeat {

      0%,
      100% {
        transform: scale(1);
      }

      14% {
        transform: scale(1.12);
      }

      28% {
        transform: scale(1);
      }

      42% {
        transform: scale(1.08);
      }

      56% {
        transform: scale(1);
      }
    }

    /* Sparkle effect */
    .sparkle {
      position: absolute;
      width: 8px;
      height: 8px;
      background: #fff;
      border-radius: 50%;
      animation: sparkle 2s infinite;
    }

    .sparkle:nth-child(1) {
      top: 10%;
      left: 20%;
      animation-delay: 0s;
    }

    .sparkle:nth-child(2) {
      top: 30%;
      right: 15%;
      animation-delay: 0.3s;
    }

    .sparkle:nth-child(3) {
      top: 60%;
      left: 10%;
      animation-delay: 0.6s;
    }

    .sparkle:nth-child(4) {
      bottom: 30%;
      right: 20%;
      animation-delay: 0.9s;
    }

    @keyframes sparkle {

      0%,
      100% {
        transform: scale(0);
        opacity: 0;
      }

      50% {
        transform: scale(1);
        opacity: 1;
      }
    }

    h1 {
      font-family: 'Pacifico', cursive;
      font-size: clamp(28px, 5vw, 52px);
      margin: 16px 0 24px;
      color: var(--text);
      text-shadow:
        0 0 40px rgba(255, 61, 122, .6),
        0 4px 15px rgba(0, 0, 0, .3);
      animation: glow 2s ease-in-out infinite alternate;
    }

    @keyframes glow {
      from {
        text-shadow: 0 0 40px rgba(255, 61, 122, .4), 0 4px 15px rgba(0, 0, 0, .3);
      }

      to {
        text-shadow: 0 0 60px rgba(255, 61, 122, .8), 0 4px 15px rgba(0, 0, 0, .3);
      }
    }

    .button-zone {
      position: relative;
      width: min(520px, 92%);
      height: 150px;
      margin: 0 auto;
      touch-action: none;
    }

    button {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      padding: 18px 36px;
      font-size: 20px;
      font-weight: 800;
      font-family: 'Poppins', sans-serif;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
      transition: all .2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    #yesBtn {
      left: 10%;
      background: var(--yes);
      background-size: 200% 200%;
      color: #fff;
      padding: 22px 44px;
      font-size: 24px;
      transform: translateY(-50%) scale(1.3);
      box-shadow:
        0 15px 50px rgba(255, 61, 122, .6),
        0 0 0 5px rgba(255, 255, 255, 0.25),
        inset 0 2px 0 rgba(255, 255, 255, 0.3);
      animation: shimmer 3s linear infinite, yesPulse 1.5s ease-in-out infinite;
    }

    @keyframes shimmer {
      0% {
        background-position: 0% 50%;
      }

      50% {
        background-position: 100% 50%;
      }

      100% {
        background-position: 0% 50%;
      }
    }

    @keyframes yesPulse {

      0%,
      100% {
        transform: translateY(-50%) scale(1.3);
      }

      50% {
        transform: translateY(-50%) scale(1.4);
      }
    }

    #yesBtn:hover,
    #yesBtn:active {
      background: var(--yesHover);
      transform: translateY(-50%) scale(1.45);
      box-shadow:
        0 20px 60px rgba(255, 61, 122, .8),
        0 0 0 6px rgba(255, 255, 255, 0.35),
        inset 0 2px 0 rgba(255, 255, 255, 0.3);
    }

    #noBtn {
      left: 65%;
      background: linear-gradient(135deg, #94a3b8, #64748b);
      color: #fff;
      font-size: 16px;
      padding: 14px 28px;
      box-shadow:
        0 8px 25px rgba(0, 0, 0, .3),
        0 0 0 2px rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease-out;
    }

    #noBtn:hover,
    #noBtn:active {
      transform: translateY(-50%) scale(0.9);
      opacity: 0.8;
    }

    .hint {
      margin-top: 16px;
      font-size: 15px;
      color: var(--text-secondary);
      animation: fadeInOut 3s ease-in-out infinite;
    }

    @keyframes fadeInOut {

      0%,
      100% {
        opacity: 0.6;
      }

      50% {
        opacity: 1;
      }
    }

    .result {
      display: none;
      margin-top: 24px;
      padding-bottom: 30px;
      animation: pop .5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    .result h2 {
      font-family: 'Pacifico', cursive;
      font-size: clamp(36px, 6vw, 56px);
      margin: 16px 0;
      color: var(--text);
      text-shadow:
        0 0 50px rgba(255, 61, 122, .8),
        0 4px 20px rgba(0, 0, 0, .4);
    }

    .result-message {
      font-size: 18px;
      color: var(--text-secondary);
      margin-bottom: 20px;
    }

    .fireworks {
      width: 100%;
      max-width: 350px;
      max-height: 250px;
      height: auto;
      margin: 0 auto;
      display: block;
      border-radius: 16px;
      box-shadow: 0 15px 40px rgba(0, 0, 0, .4);
      object-fit: contain;
    }

    @keyframes pop {
      from {
        transform: scale(.5) rotate(-5deg);
        opacity: 0;
      }

      to {
        transform: scale(1) rotate(0deg);
        opacity: 1;
      }
    }

    /* Love counter animation */
    .love-counter {
      display: none;
      font-size: 14px;
      color: rgba(255, 255, 255, 0.7);
      margin-top: 15px;
    }

    .love-counter span {
      color: #ff6b9d;
      font-weight: 600;
    }
  </style>
</head>

<body>
  <!-- Background photo -->
  <img class="bg-image" src="./images/background.jpg" alt="Background" />
  <div class="bg-overlay"></div>

  <!-- Floating hearts -->
  <div class="hearts-bg" id="heartsBg"></div>

  <canvas id="confettiCanvas"></canvas>

  <main class="card">
    <!-- ANIMATED HEART ART -->
    <div class="art-container">
      <div class="sparkle"></div>
      <div class="sparkle"></div>
      <div class="sparkle"></div>
      <div class="sparkle"></div>
      <svg class="art" viewBox="0 0 320 280" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="bearFur" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="#d4a574" />
            <stop offset="1" stop-color="#b8956e" />
          </linearGradient>
          <linearGradient id="bearLight" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="#e8c9a0" />
            <stop offset="1" stop-color="#dbb896" />
          </linearGradient>
          <linearGradient id="heart" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="#ff4d7d" />
            <stop offset="0.5" stop-color="#ff6b9d" />
            <stop offset="1" stop-color="#ff1f68" />
          </linearGradient>
          <filter id="glow">
            <feGaussianBlur stdDeviation="4" result="coloredBlur" />
            <feMerge>
              <feMergeNode in="coloredBlur" />
              <feMergeNode in="SourceGraphic" />
            </feMerge>
          </filter>
        </defs>

        <!-- Bear ears -->
        <circle cx="100" cy="60" r="35" fill="url(#bearFur)" />
        <circle cx="220" cy="60" r="35" fill="url(#bearFur)" />
        <circle cx="100" cy="60" r="20" fill="url(#bearLight)" />
        <circle cx="220" cy="60" r="20" fill="url(#bearLight)" />

        <!-- Bear head -->
        <ellipse cx="160" cy="130" rx="90" ry="80" fill="url(#bearFur)" />

        <!-- Bear muzzle -->
        <ellipse cx="160" cy="160" rx="45" ry="35" fill="url(#bearLight)" />

        <!-- Bear eyes -->
        <ellipse cx="125" cy="115" rx="12" ry="14" fill="#333" />
        <ellipse cx="195" cy="115" rx="12" ry="14" fill="#333" />
        <circle cx="121" cy="110" r="4" fill="#fff" opacity="0.9" />
        <circle cx="191" cy="110" r="4" fill="#fff" opacity="0.9" />

        <!-- Bear nose -->
        <ellipse cx="160" cy="150" rx="12" ry="9" fill="#4a3728" />
        <ellipse cx="158" cy="148" rx="4" ry="3" fill="#fff" opacity="0.3" />

        <!-- Bear mouth -->
        <path d="M160 159 L160 168" stroke="#4a3728" stroke-width="2" stroke-linecap="round" />
        <path d="M145 172 Q160 185 175 172" stroke="#4a3728" stroke-width="2.5" fill="none" stroke-linecap="round" />

        <!-- Blush -->
        <ellipse cx="95" cy="140" rx="15" ry="8" fill="#ffb6c1" opacity="0.5" />
        <ellipse cx="225" cy="140" rx="15" ry="8" fill="#ffb6c1" opacity="0.5" />

        <!-- Heart being held -->
        <path d="M115 220 C115 195 145 185 160 205
                 C175 185 205 195 205 220
                 C205 255 160 280 160 280
                 C160 280 115 255 115 220Z" fill="url(#heart)" filter="url(#glow)">
          <animate attributeName="d" dur="0.8s" repeatCount="indefinite"
            values="M115 220 C115 195 145 185 160 205 C175 185 205 195 205 220 C205 255 160 280 160 280 C160 280 115 255 115 220Z;
                    M112 218 C112 191 145 180 160 202 C175 180 208 191 208 218 C208 258 160 285 160 285 C160 285 112 258 112 218Z;
                    M115 220 C115 195 145 185 160 205 C175 185 205 195 205 220 C205 255 160 280 160 280 C160 280 115 255 115 220Z" />
        </path>

        <!-- Bear arms holding heart -->
        <path d="M70 180 Q60 220 100 245" stroke="url(#bearFur)" stroke-width="28" fill="none" stroke-linecap="round" />
        <path d="M250 180 Q260 220 220 245" stroke="url(#bearFur)" stroke-width="28" fill="none"
          stroke-linecap="round" />
      </svg>
    </div>

    <h1>Dalia, will you be my Valentine? ðŸ’•</h1>

    <section class="button-zone" id="zone">
      <button id="yesBtn">Yes! ðŸ’–</button>
      <button id="noBtn">No ðŸ˜¢</button>
    </section>

    <!-- HINT -->
    <div class="hint" id="hint">Psst... "No" seems a bit shy ðŸ˜ˆðŸ’¨</div>

    <section class="result" id="result">
      <h2>YAYYY! ðŸŽ‰ðŸ’•</h2>
      <p class="result-message">I knew you'd say yes! You've made me the happiest! ðŸ’–</p>
      <img class="fireworks" src="https://media.giphy.com/media/Xw6yFn7frR3Y4/giphy.gif" alt="Cute celebration" />
      <div class="love-counter" id="loveCounter">
        You've been loved for <span id="loveTime">0</span> seconds! ðŸ’•
      </div>
    </section>
  </main>

  <script>
    const zone = document.getElementById("zone");
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const result = document.getElementById("result");
    const hint = document.getElementById("hint");
    const loveCounter = document.getElementById("loveCounter");
    const loveTime = document.getElementById("loveTime");

    /* ---------- FLOATING HEARTS ---------- */
    const heartEmojis = ['ðŸ’•', 'ðŸ’–', 'ðŸ’—', 'ðŸ’“', 'ðŸ’', 'â™¥ï¸', 'ðŸ’˜', 'âœ¨'];
    const heartsBg = document.getElementById('heartsBg');

    function createFloatingHeart() {
      const heart = document.createElement('div');
      heart.className = 'floating-heart';
      heart.textContent = heartEmojis[Math.floor(Math.random() * heartEmojis.length)];
      heart.style.left = Math.random() * 100 + '%';
      heart.style.animationDuration = (6 + Math.random() * 6) + 's';
      heart.style.animationDelay = Math.random() * 4 + 's';
      heart.style.fontSize = (16 + Math.random() * 20) + 'px';
      heartsBg.appendChild(heart);

      setTimeout(() => heart.remove(), 15000);
    }

    // Create initial hearts
    for (let i = 0; i < 15; i++) {
      setTimeout(createFloatingHeart, i * 300);
    }
    setInterval(createFloatingHeart, 800);

    /* ---------- CONFETTI ---------- */
    const confettiCanvas = document.getElementById("confettiCanvas");

    function resizeConfettiCanvas() {
      const dpr = Math.max(1, window.devicePixelRatio || 1);
      confettiCanvas.width = Math.floor(window.innerWidth * dpr);
      confettiCanvas.height = Math.floor(window.innerHeight * dpr);
      confettiCanvas.style.width = "100vw";
      confettiCanvas.style.height = "100vh";
    }

    resizeConfettiCanvas();
    window.addEventListener("resize", resizeConfettiCanvas);
    window.addEventListener("orientationchange", () => setTimeout(resizeConfettiCanvas, 150));

    const confettiInstance = confetti.create(confettiCanvas, {
      resize: false,
      useWorker: true
    });

    function fullScreenConfetti() {
      const end = Date.now() + 3000;

      (function frame() {
        confettiInstance({
          particleCount: 8,
          spread: 100,
          startVelocity: 50,
          ticks: 200,
          colors: ['#ff3b7a', '#ff6b9d', '#ffb8d4', '#fff', '#ff1f68'],
          origin: { x: Math.random(), y: Math.random() * 0.4 }
        });
        if (Date.now() < end) requestAnimationFrame(frame);
      })();

      // Heart-shaped confetti burst
      setTimeout(() => {
        confettiInstance({
          particleCount: 150,
          spread: 160,
          startVelocity: 70,
          ticks: 250,
          shapes: ['circle'],
          colors: ['#ff3b7a', '#ff6b9d', '#ffb8d4', '#ff1f68', '#fff'],
          origin: { x: 0.5, y: 0.5 }
        });
      }, 500);

      // Side bursts
      setTimeout(() => {
        confettiInstance({ particleCount: 80, angle: 60, spread: 55, origin: { x: 0, y: 0.6 }, colors: ['#ff3b7a', '#ff6b9d', '#ffb8d4'] });
        confettiInstance({ particleCount: 80, angle: 120, spread: 55, origin: { x: 1, y: 0.6 }, colors: ['#ff3b7a', '#ff6b9d', '#ffb8d4'] });
      }, 800);
    }

    /* ---------- NO BUTTON RUNS AWAY ---------- */
    const noMessages = [
      "No ðŸ˜¢", "Are you sure? ðŸ¥º", "Please? ðŸ’•", "Think again! ðŸ˜Š",
      "Come on! ðŸ’–", "Pretty please? ðŸ™", "One chance? ðŸ’", "I'll be good! ðŸŒ¹",
      "Why not? ðŸ˜­", "Say yes! ðŸ’˜", "Don't be shy! ðŸ¥°"
    ];
    let noMsgIndex = 0;

    function clamp(n, min, max) {
      return Math.max(min, Math.min(max, n));
    }

    function moveNoRandom() {
      const z = zone.getBoundingClientRect();
      const b = noBtn.getBoundingClientRect();

      // Random position within the button zone
      let newLeft = Math.random() * (z.width - b.width);
      let newTop = Math.random() * (z.height - b.height);

      noBtn.style.left = newLeft + "px";
      noBtn.style.top = newTop + "px";
      noBtn.style.transform = "none";

      // Change no button text
      noMsgIndex = (noMsgIndex + 1) % noMessages.length;
      noBtn.textContent = noMessages[noMsgIndex];
    }

    // Auto-move NO button every 2 seconds
    setInterval(moveNoRandom, 2000);

    // Also move on touch/click attempt
    noBtn.addEventListener("pointerdown", e => {
      e.preventDefault();
      moveNoRandom();
    });

    noBtn.addEventListener("click", e => e.preventDefault());

    // Move on hover too (for desktop)
    noBtn.addEventListener("pointerenter", e => {
      moveNoRandom();
    });

    /* ---------- YES CLICK ---------- */
    let loveStartTime;

    yesBtn.addEventListener("click", () => {
      zone.style.display = "none";
      hint.style.display = "none";
      result.style.display = "block";
      loveCounter.style.display = "block";
      loveStartTime = Date.now();

      // Update love counter
      setInterval(() => {
        const seconds = Math.floor((Date.now() - loveStartTime) / 1000);
        loveTime.textContent = seconds;
      }, 1000);

      resizeConfettiCanvas();
      fullScreenConfetti();
    });
  </script>
</body>

</html>